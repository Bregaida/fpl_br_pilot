# HTTP
quarkus.http.port=8080

# OpenAPI / Swagger UI
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.always-include=true

# CORS (restrict to frontends)
quarkus.http.cors=true
quarkus.http.cors.origins=${CORS_ORIGINS:http://localhost:5173,http://localhost:5180,https://seu-front.app,https://seu-front.stage}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization,X-CSRF-Token
quarkus.http.cors.access-control-allow-credentials=true

# Datasource (PostgreSQL) - DEV defaults; em prod usar application-prod.properties
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${POSTGRES_USER:fpl_user}
quarkus.datasource.password=${POSTGRES_PASSWORD:fpl_pass}
quarkus.datasource.jdbc.url=${JDBC_URL:jdbc:postgresql://localhost:5432/${POSTGRES_DB:fpl}}
quarkus.datasource.jdbc.max-size=16

# Hibernate ORM
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file
quarkus.hibernate-orm.physical-naming-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
quarkus.hibernate-orm.implicit-naming-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyComponentPathImpl

# Hibernate schema generation por perfil
%dev.quarkus.hibernate-orm.database.generation=update
%test.quarkus.hibernate-orm.database.generation=update

# JWT (dev defaults - use env secrets in prod)
# Using HMAC HS256 for local dev to avoid key files
quarkus.smallrye-jwt.enabled=true
smallrye.jwt.sign.key=${JWT_SIGN_KEY:dev-sign-secret-change-me}
smallrye.jwt.verify.key=${JWT_VERIFY_KEY:dev-sign-secret-change-me}
smallrye.jwt.algorithm=HS256

# Mailer (produção - Gmail SMTP)
quarkus.mailer.from=fplbr.aerobatic@gmail.com
quarkus.mailer.host=smtp.gmail.com
quarkus.mailer.port=587
quarkus.mailer.username=${SMTP_USER:fplbr.aerobatic@gmail.com}
quarkus.mailer.password=${SMTP_PASS:changeme}
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.ssl=false
quarkus.mailer.mock=false



# Security secrets (env) - dev defaults; em produção definir via env
app.security.password.pepper=${APP_SECURITY_PASSWORD_PEPPER:dev-pepper}
app.security.totp.crypto.key=${APP_SECURITY_TOTP_CRYPTO_KEY:dev-totp-crypto-key-1234}
